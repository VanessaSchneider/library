{"version":3,"sources":["Login.js","Signup.js","Logout.js","CheckedContainer.js","UserPage.js","BookPage.js","BookContainer.js","FeedPage.js","App.js","reportWebVitals.js","index.js"],"names":["Login","onLogin","useState","login","setLogin","username","setUserName","password","setPassword","loginBox","className","onSubmit","e","preventDefault","fetch","method","headers","body","JSON","stringify","then","r","json","user","alert","error","type","value","onChange","target","placeholder","onClick","Signup","signup","setSignup","setUsername","passwordConfirmation","setPasswordConfirmation","signupBox","data","errors","forEach","Logout","handleLogout","CheckedContainer","book","handleReturnBook","handleAddBook","name","author","img","src","photo","id","user_id","console","log","UserPage","checkedBooks","checkedContainer","map","BookPage","handleCheckOutBook","handleDeleteBook","setBook","setUser","bookData","useHistory","useParams","useEffect","response","ok","to","BookContainer","FeedPage","bookContainer","books","App","setBooks","setCheckedBooks","history","location","useLocation","pathname","res","push","exact","path","newItem","filteredBooks1","filter","filteredBooks","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.85c33d01.chunk.js","sourcesContent":["import { useState } from \"react\";\n\nfunction Login({ onLogin }) {\n  const [login, setLogin] = useState(false);\n  const [username, setUserName] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  // login\n  function handleSubmit(e) {\n    e.preventDefault();\n    fetch(\"/login\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ username, password }),\n    })\n      .then((r) => r.json())\n      .then((user) => (user.username ? onLogin(user) : alert(user.error)));\n    setUserName(\"\");\n    setPassword(\"\");\n  }\n\n  //\n\n  const loginBox = (\n    <div>\n      <div className=\"login\">\n        <form onSubmit={handleSubmit}>\n          <div>\n            <div className=\"mb-3\"></div>\n            <input\n              type=\"text\"\n              value={username}\n              onChange={(e) => setUserName(e.target.value)}\n              placeholder=\"Username\"\n            ></input>\n            <div className=\"mb-3\">\n              <input\n                type=\"password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                placeholder=\"Password\"\n              ></input>\n            </div>\n            <input type=\"submit\" className=\"btn btn-outline-light\"></input>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n\n  return (\n    <div className=\"login-button\">\n      <nav>\n        <button type=\"button\" onClick={() => setLogin(!login)}>\n          Login\n        </button>\n        {login ? loginBox : null}\n      </nav>\n    </div>\n  );\n}\n\nexport default Login;\n","import React from 'react'\nimport { useState } from 'react'\n\nfunction Signup ({ login }) {\n  const [signup, setSignup] = useState(false)\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [passwordConfirmation, setPasswordConfirmation] = useState('')\n \n\n  function handleSignup (e) {\n    e.preventDefault()\n    fetch('/signup', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        username,\n        password,\n        passwordConfirmation,\n      \n      })\n    })\n      .then(r => r.json())\n      .then(data => {\n        if (data.errors) {\n          data.errors.forEach(e =>\n            e === 'Age must be greater than or equal to 18'\n              ? alert('Must be 18 or older')\n              : alert(e)\n          )\n        } else {\n          setSignup(false)\n          setUsername('')\n          setPassword('')\n          setPasswordConfirmation('')\n       \n          alert('Profile Successfully Created! Please Log In.')\n        }\n      })\n  }\n\n  const signupBox = (\n    <div className=\"signup\">\n      <form onSubmit={handleSignup}>\n        <div>\n          <input\n            type='text'\n            value={username}\n            onChange={e => setUsername(e.target.value)}\n            placeholder='username'\n          />\n        </div>\n        <div>\n          <input\n            type='password'\n            value={password}\n            onChange={e => setPassword(e.target.value)}\n            placeholder='password'\n          />\n        </div>\n        <div>\n          <input\n            type='password'\n            value={passwordConfirmation}\n            onChange={e => setPasswordConfirmation(e.target.value)}\n            placeholder='password confirmation'\n          />\n        </div>\n    \n        <div>\n          <input type='submit' className='btn btn-outline-light'></input>\n        </div>\n      </form>\n    </div>\n  )\n\n  return (\n    <div className = \"signup-button\">\n      <nav>\n        <button\n          type='button'\n          onClick={() => setSignup(!signup)}\n        >\n          Sign Up\n        </button>\n        {signup ? signupBox : null}\n      </nav>\n    </div>\n  )\n}\n\nexport default Signup\n","function Logout({ handleLogout }) {\n  return (\n    <header>\n      <button type=\"button\" className=\"logout-button\" onClick={handleLogout}>\n        Logout\n      </button>\n    </header>\n  );\n}\n\nexport default Logout;\n","function CheckedContainer({ book, handleReturnBook, handleAddBook}) {\n  function returnBook() {\n    handleAddBook(book)\n   ReturnBook()\n\n    fetch(`/books/${book.id}`, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        user_id: 0,\n      }),\n    })\n      .then((r) => r.json())\n      .then((data) => console.log(data));\n  }\n\n  function ReturnBook(){\n    handleReturnBook(book.id)\n  }\n\n  return (\n    <div className=\"catTile2\">\n      <div className=\"centered2\">\n        {book.name}\n        <br></br>\n        {book.author}\n        <img img className=\"book-size\" src={book.photo}></img>\n        <br></br>\n        <br></br>\n        <button onClick={returnBook}>Return Book</button>\n      </div>\n    </div>\n  );\n}\nexport default CheckedContainer;\n","import { useEffect, useState } from 'react'\nimport CheckedContainer from './CheckedContainer'\n\nfunction UserPage ({checkedBooks, handleReturnBook, handleAddBook}) {\n    const [user, setUser] =useState(\"\")\n\n\n      let checkedContainer =[]\n      if (checkedBooks && checkedBooks!==0){\n       checkedContainer = checkedBooks.map(book => (\n        <CheckedContainer book={book} key={book.name} handleReturnBook={handleReturnBook} handleAddBook={handleAddBook}/>\n      ))\n      }\n\n\n  return(<div>\n      \n    <h1 className = \"centered2\">Hello {user.username}</h1>\n    <h2 className = \"centered3\">Books You Have Checked Out</h2>\n    {checkedContainer}\n\n    </div>)\n}\n\nexport default UserPage;\n","import { useParams } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\n\nfunction BookPage({handleCheckOutBook, handleDeleteBook}) {\n  const [book, setBook] = useState(\"\");\n  const [user, setUser] = useState(\"\");\n  const history = useHistory();\n  const { name } = useParams();\n  const bookData = {\n    name: name,\n  };\n\n  function CheckOut() {\n    handleCheckOutBook(book)\n    handleDeleteBook(book.id)\n    fetch(`/books/${book.id}`, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        user_id: user.id,\n      }),\n    })\n      .then((r) => r.json())\n      .then((data) => console.log(data));\n  }\n\n  useEffect(() => {\n    fetch(\"/getbook\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(bookData),\n    })\n      .then((r) => r.json())\n      .then((book) => setBook(book));\n  }, []);\n\n  useEffect(() => {\n    fetch(\"/me\").then((response) => {\n      if (response.ok) {\n        response.json().then((data) => setUser(data));\n      }\n    });\n  }, []);\n\n  console.log(book);\n\n  return (\n    <div className=\"centered2\">\n      {book.name}\n      <br></br>\n      {book.author}\n      <br></br>\n      <br></br>\n      <img img className=\"big-size\" src={book.photo}></img>\n      <br></br>\n      <br></br>\n      <br></br>\n      <Link to={`/users/${user.username}`}>\n        <button onClick={CheckOut} className=\"checkout\">\n          {\" \"}\n          Check Out This Book{\" \"}\n        </button>\n      </Link>\n    </div>\n  );\n}\n\nexport default BookPage;\n","import { Link, useHistory } from \"react-router-dom\";\n\nfunction BookContainer({ book }) {\n  return (\n    <div className=\"catTile\">\n      <div className=\"centered\">\n        <Link to={`/books/${book.name}`}>{book.name}</Link>\n        <br></br>\n        {book.author}\n        <img img className=\"book-size\" src={book.photo}></img>\n      </div>\n    </div>\n  );\n}\nexport default BookContainer;\n","import BookContainer from \"./BookContainer\";\n\nfunction FeedPage({books}) {\n \n\n\n  const bookContainer = books.map((book) => (\n  <BookContainer book={book} key={book.name} />\n  ));\n  return <div>{bookContainer}</div>;\n}\n\nexport default FeedPage;\n","import Login from \"./Login.js\";\nimport { useState, useEffect } from \"react\";\nimport Signup from \"./Signup\";\nimport Logout from \"./Logout.js\";\nimport { Route, Switch, useHistory, Link, useLocation } from \"react-router-dom\";\nimport UserPage from \"./UserPage\";\nimport BookPage from \"./BookPage\";\nimport FeedPage from \"./FeedPage\";\n\nfunction App() {\n  const [user, setUser] = useState(null);\n  const [books, setBooks] = useState([]);\n  const [checkedBooks, setCheckedBooks] = useState([]);\n  const history = useHistory();\n  const location = useLocation();\n\n  const handleReroute = () => {\n    console.log(\"Reroute!\");\n    history.push(\"/\");\n  };\n\n\n  \n  useEffect(() => {\n    fetch(\"/me\").then((response) => {\n      if (response.ok) {\n        response.json().then((data) => setUser(data));\n      }\n    });\n  }, []);\n\n  console.log(\"location\", location.pathname);\n\n  function login(username, password) {\n    fetch(\"/login\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ username, password }),\n    })\n      .then((r) => r.json())\n      .then((data) => (user.username ? setUser(data) : null));\n  }\n\n  console.log(books);\n  useEffect(() => {\n    fetch(\"/getbooks\")\n      .then((res) => res.json())\n      .then((data) => setBooks(data));\n  }, []);\n\nconsole.log(\"books\",books)\n\n// useEffect(() => {\n//   fetch(\"/getbooks\")\n//     .then((res) => res.json())\n//     .then((data) => setBooks(data));\n// }, [checkedBooks]);\n\n\n  useEffect(() => {\n    fetch(\"/getCheckedBooks\")\n      .then((res) => res.json())\n      .then((data) => setCheckedBooks(data));\n  }, []);\n\n  function handleLogout() {\n    fetch(\"/logout\", {\n      method: \"DELETE\",\n    })\n      .then(() => setUser())\n      .then(() => handleReroute());\n  }\n\n function handleReturnBook(id){\nconst filteredBooks = checkedBooks.filter((book)=>book.id!==id)\nsetCheckedBooks(filteredBooks)\n }\n function handleCheckOutBook(newItem){\n    setCheckedBooks([...checkedBooks, newItem]);}\n\n    function handleDeleteBook(id){\n      const filteredBooks1 = books.filter((book)=>book.id!==id)\n      setBooks(filteredBooks1)\n       }\n\n\n       function handleAddBook(newItem){\n        setBooks([...books, newItem])}\n\n  return (\n    <div>\n      <div>\n        <nav className=\"nav\">\n          {user ? null : <Signup onLogin={setUser} login={login} />}\n          {user ? (\n            <Logout handleLogout={handleLogout} />\n          ) : (\n            <Login onLogin={setUser} />\n          )}\n          {user ? <div></div> : null}\n          {user && location.pathname !== \"/\" ? (\n            <div className=\"home-button\">\n              <Link to=\"/\">\n                <button>Home</button>\n              </Link>\n            </div>\n          ) : null}\n           {user && location.pathname !== `/users/${user.username}` ? (\n            <div className=\"signup-button\">\n           <Link to={`/users/${user.username}`}>\n                <button>My Checked Out Books</button>\n              </Link>\n            </div>\n          ) : null}\n        </nav>\n\n        <Switch>\n          <Route exact path=\"/\">\n            <div>\n              {user ? (\n                <div>\n                  <h1 className=\"centered2\">\n                    Welcome to the Library, {user.username}\n                  </h1>\n                  <h2 className=\"centered3\">\n                    Would you like to check out any of these books? \n                  </h2>\n                  <h2 className=\"centered3\">\n                    Sorry we only have 1 copy of each book\n                  </h2>\n                </div>\n              ) : (\n                <h1 className=\"centered\">Welcome to the Little Library</h1>\n              )}\n            </div>\n            {user ? <FeedPage books={books} /> : null}\n          </Route>\n          <Route exact path={`/books/:name`}>\n            <BookPage user={user} handleCheckOutBook={handleCheckOutBook} handleDeleteBook={handleDeleteBook} />\n          </Route>\n          <Route exact path={`/users/:username`}>\n            <UserPage checkedBooks={checkedBooks} handleReturnBook={handleReturnBook} handleAddBook={handleAddBook} \n            />\n          </Route>\n        </Switch>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n    </BrowserRouter>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n\n\n\n"],"sourceRoot":""}